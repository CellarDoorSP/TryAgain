@model WebApplication1.ViewModels.HomeIndexViewModel
@{
    ViewData["Title"] = "Home Page";
}

<body>
    <table class="table table-bordered table-responsive table-hover">
        <tr>
            <th>Name</th>
            <th>Behaviors</th>
            <th>Total</th>
        </tr>
        @foreach (var student in Model.Students)
        {
            <tr>
                <td width="125">@student.StudentName</td>
                <td>
                    @{int total = 0;}
                    @foreach (var behavior in Model.Behaviors)
                    {
                        if (behavior.StudentName == student.StudentName)
                        {
                            total = total + behavior.Value;
                            if (behavior.Value > 0)
                            {
                                <div style="background-color:forestgreen; width:100px; text-align:center">
                                    @behavior.BehaviorName: @behavior.Value
                                </div>
                            }
                            else
                            {
                                <div style="background-color:red; width:100px; text-align:center">
                                    @behavior.BehaviorName: @behavior.Value
                                </div>
                            }
                        }
                    }
                </td>
                <td width="50">@total</td>
                @total = 0;
            </tr>
        }
    </table>
    <a asp-action="AddStudent">Add Student</a>
    <a asp-action="DeleteStudent">Delete Student</a>
    <a asp-action="AddBehavior">Add Behavior</a>
    <a asp-action="DeleteBehavior">Delete Behavior</a>
</body>